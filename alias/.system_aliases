# Aliases
# To load, put "source ~/.system_aliases" in your .bashrc, .zshrc, or config.fish
# Works (supposedly) with bash, zsh, and fish
LS_EXE=exa
alias a?="alias"
alias a?g="alias | grep"
alias l="$LS_EXE"
alias la="$LS_EXE -a"
alias ll="$LS_EXE -lh --git"
alias lt="$LS_EXE -lTh --git"
alias lla="$LS_EXE -lah --git"
alias lal="lla"
alias lah="ls -lah"
alias lf="ls *(.)"
alias ld="ls *(/)"
alias lsh="ls .*"
alias lsd="ls -d *(/)"
alias lsy="ls | fzy"
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias cd-="cd -"
alias cpr="cp -r"
alias rmrf="rm -rf"
alias rmd="rm -rf"
alias sus="sudo -sE"
alias c4="chmod 664"
alias grpwn="sudo chgrp $USER -R * && sudo chown $USER -R *"
alias chux="chmod u+x"
alias loc+="sudo updatedb"
alias x.x="xrdb ~/.Xresources"

# Programs
alias dae="emacs --daemon"
alias ec="emacsclient -ca emacs $1 >/dev/null 2>&1"
alias em="ec"
alias nv="nvim"
alias py="python"
alias pc="peco"
alias dush="du -sh"
alias pat="patool extract"
alias psg="ps -ax | grep"
alias psy="ps -ax | fzy"
alias pu="pushd"
alias po="popd"
alias t="tar xvfz "
alias h="history"
alias gdbtui="gdb -tui"
# xclip, e.g. "pwd | c", and "cd `v`"
alias c="xclip -sel clip"
alias v="xclip -o"

# Dotfiles
alias brc="em ~/.bashrc"
alias zrc="em ~/.zshrc"
alias vib="vim ~/.bashrc"
alias viz="vim ~/.zshrc"
alias emb="em ~/.bashrc"
alias emz="em ~/.zshrc"
alias .b="source ~/.bashrc"
alias .z="source ~/.zshrc"
alias .s="source ~/.system_aliases && source ~/.system_funcs"
alias .x="xrdb ~/.Xresources"
alias emd="cd ~/.emacs.d"
alias dot="cd ~/dotfiles"
alias sp="cd ~/.spacemacs.d"


alias emm="em Makefile"
alias emc="em main.c"
# && makes fish unhappy
# alias mcm="make clean && make"

# Package management
alias agu="sudo apt update"
alias agup="sudo apt upgrade"
alias agi="sudo apt install"
alias acs="sudo apt search"
alias agr="sudo apt --purge remove"
alias agl="dpkg --get-selections | grep -v deinstall"

# Git aliases
##  Aliases specific to the .gitconfig include:
##  co = checkout
##  ci = commit
##  st = status
##  br = branch
##  hist = log --pretty=format:'%h %ad | %s%d [%an]' --graph --date=short
##  type = cat-file -t
##  dump = cat-file -p
##  dsf = "!f() { [ \"$GIT_PREFIX\" != \"\" ] && cd "$GIT_PREFIX"; git diff --color $@ | diff-so-fancy | less --tabs=4 -RFX; }; f"
#
alias gs="git status"
alias gl="git log"
alias glp="git log -p"
alias gln="git log --name-only"
alias gls="git log --stat"
alias glss="git log --stat -S"
alias glS="git log -p -S"
alias glS="git log -p -S"
alias gl-="git log -- "
alias gl.="git log ."
alias glg="git log -G"
alias glph="git log --graph --all --decorate --stat --date=iso"
alias gsh="git show"
alias gh="git hist"
alias ghp="git hist | peco"
alias gb="git branch"
alias gbD="git branch -D"
alias ga="git add"
alias gut="git commit --amend --date=now --no-edit"
alias grc="git rebase --continue"
alias gutc="gut && grc"
alias gupdate="gut"
alias gd="git diff"
alias gdf="git dsf"
alias gdfc="git dsf --cached"
alias gdf~="git dsf HEAD~..HEAD"
alias gd~="git diff HEAD~..HEAD"
alias gd~~="git diff HEAD~~..HEAD"
alias gd~3="git diff HEAD~3..HEAD"
alias gdom="git diff origin/master..HEAD"
alias gdc="git diff --cached"
alias gf="git fetch"
alias gfl="git reflog --relative-date"
alias gc="git checkout"
alias gco="git checkout"
alias gcom="git checkout origin/master"
alias gc-="git checkout -"
alias gc~="git checkout HEAD~"
alias gc~~="git checkout HEAD~~"
alias gcb="git checkout -b"
alias gci="git commit"
alias gcv="git cherry -v"
alias gcp="git cherry-pick"
alias gt="git tag"
alias gpr="git pull --rebase"
alias gcm="git checkout master"
alias gpom="git pull origin master"
alias gprom="git pull --rebase origin master"
alias gPom="git push origin master"
alias gp?="git log origin/master..master"
alias gsl="git stash list"
# alias gsa="git stash apply"
# alias gsp="git stash show -p"
alias gsP="git stash pop"
alias gss="git stash save"
alias grH="git reset HEAD --hard"
alias grM="git reset HEAD --mixed"
alias grS="git reset HEAD --soft"
alias grMER="git reset --merge ORIG_HEAD"
alias grh="git reset HEAD"
alias gr~="git reset HEAD~"
alias grH~="git reset HEAD~ --hard"
alias gfp="git format-patch --stdout >"
alias gfpm="git format-patch --stdout origin/master >"
alias gfps="git format-patch -1"
alias gsur="git submodule update --init --recursive"
alias gbi="git bisect"
alias gbist="git bisect start"
alias gbisp="git bisect stop"
alias gmb="git merge-base"

alias gsr="git stash save && git pull --rebase && git stash pop"

# Misc
alias p?='echo $PATH'
alias sgrep="grep -rnI -C3 --color=always"
alias shdwn="systemctl poweroff"
alias logout="pkill -u ${USER}"
